# DesignDiff for macOS

AI-powered visual design diff tool for seamless designer-developer handoff. Native macOS app built with SwiftUI.

## Features

- **Visual Diff Generation** - Pixel-level comparison highlighting exactly what changed
- **AI-Powered Analysis** - GPT-4o analyzes before/after designs to detect and annotate all changes
- **Interactive Annotations** - Drag-and-drop annotation numbers, add/edit/delete change descriptions
- **Smart Export** - Save comparison images with optional design changes panel
- **Team-Ready Formats** - One-click copy for Slack and Linear with numbered annotations
- **Zero Setup** - Just drag and drop PNG images
- **Auto-Update** - Automatically checks for new versions via GitHub Releases
- **Native macOS Experience** - Beautiful dark theme with smooth animations

## Requirements

- macOS 13.0 (Ventura) or later

## Installation

### Download from Website
1. Download the latest DMG from [GitHub Releases](https://github.com/YOUR_USERNAME/design_diff_macapp/releases/latest)
2. Open the DMG file
3. Drag `DesignDiff.app` to your Applications folder
4. Launch DesignDiff from Applications

### First Launch
If you see a security warning when opening the app:

**Option 1: Right-click method (Easiest)**
1. In Finder, locate `DesignDiff.app` in Applications
2. **Right-click** (or Control+click) on the app
3. Select **"Open"** from the context menu
4. Click **"Open"** in the security dialog

**Option 2: Terminal method**
Open Terminal and run:
```bash
xattr -cr /Applications/DesignDiff.app
```

**Option 3: System Settings**
1. Go to **System Settings** â†’ **Privacy & Security**
2. Scroll down and click **"Open Anyway"** next to the DesignDiff message

This happens because the app is not notarized by Apple. It's safe to use - the source code is open and available on GitHub.

## Usage

1. **Upload Images**
   - Drag & drop or click to upload before/after PNG images
   - Works best with UI screenshots at similar sizes

2. **Analyze**
   - Click "Analyze" to generate visual diff and AI-powered change detection
   - AI automatically identifies and positions annotation numbers on changes

3. **Edit Annotations**
   - Drag annotation numbers to adjust their positions
   - Click "+" to add new annotations
   - Double-click text to edit descriptions
   - Delete annotations you don't need

4. **Export**
   - Copy formatted text for Slack or Linear
   - Save comparison PNG with or without design changes panel
   - Choose to include annotation numbers independently

## Updates

DesignDiff automatically checks for updates on startup. You can also manually check:
- Menu: **DesignDiff** â†’ **Check for Updates...**

## Project Structure

```
DesignDiff/
â”œâ”€â”€ DesignDiffApp.swift      # App entry point with auto-update integration
â”œâ”€â”€ ContentView.swift        # Main UI with upload/loading/results flow
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ Models.swift         # Data models (AnalysisResult, ChangeAnnotation, etc.)
â”‚   â””â”€â”€ AppState.swift       # App state management & image processing
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ ImageDropZone.swift        # Drag & drop upload component
â”‚   â”œâ”€â”€ ImageComparisonView.swift  # Interactive before/after viewer with annotations
â”‚   â”œâ”€â”€ ResultsView.swift          # Annotations, Slack, Linear tabs
â”‚   â””â”€â”€ SettingsView.swift         # App settings
â””â”€â”€ Services/
    â”œâ”€â”€ ImageDiffEngine.swift      # Pixel-level diff generation
    â”œâ”€â”€ OpenAIService.swift        # GPT-4o API integration for change detection
    â””â”€â”€ UpdateManager.swift        # Auto-update service using Sparkle
```

## Output Formats

### Annotations Tab
Interactive list of all detected changes with numbered annotations:
- Edit descriptions inline
- Delete unwanted annotations
- Sync with visual markers on the image

### Slack Format
Pre-formatted message with emoji and markdown:
```
ðŸŽ¨ *Design Update Summary*

*Visual Changes:*
(1) Removed text 'Video and create a 3D imagery with AI!'
(2) Added new 3D imagery graphic below 'Shoot your space in 360Â°'

_Generated by DesignDiff_ âœ¨
```

### Linear Format
Ready-to-paste markdown for Linear issues:
```markdown
## Design Diff Analysis

### Visual Changes
(1) Removed text 'Video and create a 3D imagery with AI!'
(2) Added new 3D imagery graphic below 'Shoot your space in 360Â°'

### Developer Notes
See attached images for visual reference.
```

## Privacy & Data

- Images are processed using OpenAI's GPT-4o API for change detection
- Images are sent securely over HTTPS to OpenAI's servers
- No data is permanently stored on external servers
- All annotations and edits are stored locally on your Mac
- Network connection required for AI analysis

## Building from Source

See [DEPLOYMENT_GUIDE.md](../../DEPLOYMENT_GUIDE.md) for detailed build and deployment instructions.

Quick build:
```bash
# Clone the repository
git clone https://github.com/YOUR_USERNAME/design_diff_macapp.git
cd design_diff_macapp

# Open in Xcode and add Sparkle framework
open DesignDiff/DesignDiff.xcodeproj

# Build DMG
./scripts/create-dmg.sh
```

## License

MIT




